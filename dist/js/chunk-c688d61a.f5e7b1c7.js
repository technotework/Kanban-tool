(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c688d61a"],{"08ab":function(t,e,n){"use strict";var a=n("cc40"),i=n.n(a);e["default"]=i.a},"08bf":function(t,e,n){"use strict";var a=n("1d3e"),i=n.n(a);e["default"]=i.a},"0bf7":function(t,e,n){t.exports={wrapper:"base-editable-textarea---wrapper---10v3R",content:"base-editable-textarea---content---2sFnz",text:"base-editable-textarea---text---1OGGy"}},"117b":function(t,e,n){"use strict";var a=n("ba9f"),i=n.n(a);e["default"]=i.a},1543:function(t,e,n){"use strict";var a=n("5b6f"),i=n.n(a);e["default"]=i.a},"1d3e":function(t,e,n){t.exports={icon:"members-icon-list---icon---3WmiV",wapper:"members-icon-list---wapper---lLogI",tooltip:"members-icon-list---tooltip---3bqwS"}},"1f4a":function(t,e,n){"use strict";var a=n("9d62"),i=n.n(a);e["default"]=i.a},"1fe2":function(t,e,n){t.exports={wrapper:"click-to-editable-textarea---wrapper---CY4ok",textarea:"click-to-editable-textarea---textarea---3KOio",menu:"click-to-editable-textarea---menu---1WlPR",buttons:"click-to-editable-textarea---buttons---3VhNZ",button:"click-to-editable-textarea---button---1PLGv"}},2899:function(t,e,n){"use strict";var a=n("a026"),i=n("6aaa"),o={template:'<input type="checkbox" :id="id" :value="value" v-model="modelData" /><\/script>',model:{prop:"model",event:"input"},name:"BaseCheckBox",props:{id:String,name:String,value:String},computed:{modelData:{get:function(){return this.model},set:function(t){this.$emit("input",t)}}}};n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r}));var s=a["a"].component("base-check-box",{mixins:[o,i["a"]],props:{model:Boolean}}),r=a["a"].component("base-check-box-vmodel",{mixins:[o,i["a"]],props:{model:Array}})},"28ac":function(t,e,n){"use strict";var a=n("9ee2"),i=n.n(a);e["default"]=i.a},"314d":function(t,e,n){"use strict";var a=n("1fe2"),i=n.n(a);e["default"]=i.a},"33e1":function(t,e,n){"use strict";var a=n("e984"),i=n.n(a);e["default"]=i.a},"3e55":function(t,e,n){"use strict";var a=n("3fa4"),i=n.n(a);e["default"]=i.a},"3fa4":function(t,e,n){t.exports={wrapper:"members-check-list---wrapper---1XNLd",title:"members-check-list---title---2e7uA",menu:"members-check-list---menu---2PqT0",listContainer:"members-check-list---listContainer---1Kny8",list:"members-check-list---list---3Yr5r",icon:"members-check-list---icon---3iJV8"}},"448e":function(t,e,n){"use strict";var a=n("c3f2"),i=n.n(a);e["default"]=i.a},5319:function(t,e,n){"use strict";var a=n("d784"),i=n("825a"),o=n("7b0b"),s=n("50c4"),r=n("a691"),c=n("1d80"),l=n("8aa5"),u=n("14c3"),d=Math.max,m=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,b=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){return[function(n,a){var i=c(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,a):e.call(String(i),n,a)},function(t,o){if(a.REPLACE_KEEPS_$0||"string"===typeof o&&-1===o.indexOf("$0")){var c=n(e,t,this,o);if(c.done)return c.value}var p=i(t),f=String(this),h="function"===typeof o;h||(o=String(o));var g=p.global;if(g){var k=p.unicode;p.lastIndex=0}var $=[];while(1){var y=u(p,f);if(null===y)break;if($.push(y),!g)break;var x=String(y[0]);""===x&&(p.lastIndex=l(f,s(p.lastIndex),k))}for(var C="",O=0,S=0;S<$.length;S++){y=$[S];for(var I=String(y[0]),D=d(m(r(y.index),f.length),0),j=[],M=1;M<y.length;M++)j.push(b(y[M]));var E=y.groups;if(h){var L=[I].concat(j,D,f);void 0!==E&&L.push(E);var w=String(o.apply(void 0,L))}else w=v(I,f,D,j,E,o);D>=O&&(C+=f.slice(O,D)+w,O=D+I.length)}return C+f.slice(O)}];function v(t,n,a,i,s,r){var c=a+t.length,l=i.length,u=h;return void 0!==s&&(s=o(s),u=f),e.call(r,u,(function(e,o){var r;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,a);case"'":return n.slice(c);case"<":r=s[o.slice(1,-1)];break;default:var u=+o;if(0===u)return e;if(u>l){var d=p(u/10);return 0===d?e:d<=l?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):e}r=i[u-1]}return void 0===r?"":r}))}}))},"53a2":function(t,e,n){t.exports={item:"task-list-item---item---14VwH",member:"task-list-item---member---1QsHs",noDrag:"task-list-item---noDrag---umwOw",drag:"task-list-item---drag---3BQYQ"}},"581a":function(t,e,n){"use strict";var a=n("53a2"),i=n.n(a);e["default"]=i.a},"5b6f":function(t,e,n){t.exports={other:"members-unit---other---1O9us",icon:"members-unit---icon---3VE8Y",line:"members-unit---line---gV281"}},"64eb":function(t,e,n){t.exports={board:"board-list-item---board---3v_gU",input:"board-list-item---input---3G1_7",contextMenu:"board-list-item---contextMenu---Xa7k5"}},"8cec":function(t,e,n){"use strict";var a=n("64eb"),i=n.n(a);e["default"]=i.a},"9d62":function(t,e,n){t.exports={wrapper:"post-form---wrapper---Mgo69",text:"post-form---text---1HAHu",buttons:"post-form---buttons---1tM53",button:"post-form---button---VuOCS"}},"9ee2":function(t,e,n){t.exports={list:"board-list---list---3qZxs",listItem:"board-list---listItem---16x6q",ghost:"board-list---ghost---jHJjG"}},a8de:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{attrs:{for:t.target}},[t._t("default")],2)},i=[],o={name:"BaseFormLabel",props:{target:String}},s=o,r=n("2877"),c=Object(r["a"])(s,a,i,!1,null,null,null);e["a"]=c.exports},ba9f:function(t,e,n){t.exports={label:"labeled-check-box---label---1uBwT",checkbox:"labeled-check-box---checkbox---161Uy"}},bfc2:function(t,e,n){"use strict";e["a"]={model:{prop:"model",event:"input"},name:"LabeledCheckbox",props:{id:String,name:String,value:String},computed:{modelData:{get:function(){return this.model},set:function(t){this.$emit("input",t)}}}}},c3f2:function(t,e,n){t.exports={container:"task-list---container---3LGVK",postForm:"task-list---postForm---1uQ7I",open:"task-list---open---1oL5n",close:"task-list---close---3y1Ls",postButton:"task-list---postButton---dJCa4",add:"task-list---add---yGQrF",list:"task-list---list---roOZj",listItem:"task-list---listItem---2kAgE",ghost:"task-list---ghost---39dH7"}},cc40:function(t,e,n){t.exports={button:"iconed-button---button---3EuM-",icon:"iconed-button---icon---Y3T9h"}},e984:function(t,e,n){t.exports={text:"base-textarea---text---3NJJ7"}},ec51:function(t,e,n){"use strict";var a=n("0bf7"),i=n.n(a);e["default"]=i.a},fba9:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Message",{attrs:{target:"board","is-show-load":t.isShowLoad}},[n("Boards",{on:{"show-load":t.onShowLoad}})],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BoardUnit",{attrs:{title:t.projectName,"task-container":t.task,"user-data":t.userData},on:{"update:title":function(e){t.projectName=e},"edited-board-name":t.onInput,"context-menu-click":t.onClick,"drag-sort-list":t.onDragSortList,"create-board":t.onCreateBoard,"nav-event":t.onClickBack},model:{value:t.boardList,callback:function(e){t.boardList=e},expression:"boardList"}})},s=[],r=(n("a4d3"),n("4de4"),n("4160"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("96cf"),n("1da1")),c=n("ade3"),l=n("2f62"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentAreaLayout",{scopedSlots:t._u([{key:"nav",fn:function(){return[n("AppHeader",{attrs:{navname:"back",username:t.userData.username,img:t.userData.img,title:t.title},on:{"update:title":t.onEditedProjectName,"add-event":t.onCreateBoard,"nav-event":t.onNavClick}},[t._v("New Board")])]},proxy:!0},{key:"article",fn:function(){return[n("BoardList",{attrs:{"task-container":t.taskContainer},on:{"edited-board-name":t.onInput,"context-menu-click":t.onClick,"drag-sort-list":t.onDragSortList},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}})]},proxy:!0}])})},d=[],m=n("6aaa"),p=n("c888"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable",t._b({class:t.$style.list,attrs:{filter:".ignore",tag:"ul"},on:{end:t.onDragSortList},model:{value:t.boardList,callback:function(e){t.boardList=e},expression:"boardList"}},"draggable",t.dragOptions,!1),t._l(t.boardList,(function(e){return n("li",{key:e.board.id,class:t.$style.listItem,attrs:{"data-id":e.board.id}},[n("BoardListItem",{attrs:{id:e.board.id,"task-container":t.taskContainer},on:{"edited-board-name":t.onInput,"context-menu-click":t.onClick},model:{value:e.board.label,callback:function(n){t.$set(e.board,"label",n)},expression:"boardItem.board.label"}})],1)})),0)},h=[],b=n("310e"),v=n.n(b),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.board},[n("ClickToEditableInput",{class:t.$style.input,model:{value:t.titleData,callback:function(e){t.titleData=e},expression:"titleData"}}),n("ContextMenu",t._b({class:t.$style.contextMenu,attrs:{compose:"bottom"},on:{"context-menu-click":t.onMenuClick}},"ContextMenu",{menuItems:t.menuItems,id:t.id},!1)),n(t.taskContainer,{tag:"component",attrs:{id:t.id}})],1)},k=[],$=n("414f"),y=n("7483"),x={name:"BoardListItem",props:{value:String,id:String,taskContainer:Object},data:function(){return{menuItems:[{value:"ボードを削除",name:"delete"}]}},computed:{titleData:{get:function(){return this.value},set:function(t){this.$emit("edited-board-name",{name:t,id:this.id})}}},methods:{onMenuClick:function(t){t.title=this.titleData,this.$emit("context-menu-click",t)}},components:{ClickToEditableInput:$["a"],ContextMenu:y["a"]}},C=x,O=n("8cec"),S=n("2877");function I(t){this["$style"]=O["default"].locals||O["default"]}var D=Object(S["a"])(C,g,k,!1,I,null,null),j=D.exports,M={name:"BoardList",props:{value:Array,taskContainer:Object},computed:{dragOptions:function(){return{animation:200,preventOnFilter:!1,ghostClass:this.$style.ghost}},boardList:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{onInput:function(t){this.$emit("edited-board-name",t)},onClick:function(t){this.$emit("context-menu-click",t)},onDragSortList:function(t){var e=t.item.dataset;this.$emit("drag-sort-list",e)}},components:{BoardListItem:j,draggable:v.a}},E=M,L=n("28ac");function w(t){this["$style"]=L["default"].locals||L["default"]}var B=Object(S["a"])(E,f,h,!1,w,null,null),_=B.exports,T=n("bcfd"),P={mixins:[m["a"]],name:"BoardUnit",props:{value:Array,userData:Object,title:String,taskContainer:Object},computed:{items:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{onInput:function(t){this.$emit("edited-board-name",t)},onEditedProjectName:function(t){this.$emit("update:title",t)},onClick:function(t){this.$emit("context-menu-click",t)},onDragSortList:function(t){this.$emit("drag-sort-list",t)},onCreateBoard:function(){this.$emit("create-board")},onNavClick:function(){this.$emit("nav-event")}},components:{ContentAreaLayout:T["a"],BoardList:_,AppHeader:p["a"]}},N=P,A=Object(S["a"])(N,u,d,!1,null,null,null),V=A.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("TaskList",{attrs:{"members-container":t.members,open:t.isOpen,"data-board-id":t.id},on:{"update:open":function(e){t.isOpen=e},"save-event":t.onSave,"form-add":t.onCreate,"delete-event":t.onDelete,"drag-sort-list":t.onDragSortList,"drag-add-list":t.onDragAddList,"start-edit-task":t.onStartEdit,"complete-edit-task":t.onCompleteEdit},model:{value:t.taskList,callback:function(e){t.taskList=e},expression:"taskList"}})},F=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("MembersUnit",{attrs:{members:t.members,id:t.id,"my-editor-id":t.myEditorId,"parent-id":t.parentId,editor:t.editor},on:{"update-member":t.onUpdateMember},model:{value:t.assigned,callback:function(e){t.assigned=e},expression:"assigned"}})},z=[],R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.container},["NO_ONE"==t.editStatus?[n("ContextMenuContainer",{ref:"container",on:{click:function(e){return e.stopPropagation(),t.onMenuTriggerClick(e)}},scopedSlots:t._u([{key:"button",fn:function(){return[n("MembersIconList",{attrs:{members:t.members},model:{value:t.myData,callback:function(e){t.myData=e},expression:"myData"}})]},proxy:!0},{key:"menu",fn:function(){return[n("MembersCheckList",{attrs:{members:t.members,"parent-id":t.parentId},on:{close:t.onClose},model:{value:t.myData,callback:function(e){t.myData=e},expression:"myData"}})]},proxy:!0}],null,!1,2811532784)})]:t._e(),"OTHER"==t.editStatus?[n("div",{class:t.$style.other},[n("MemberIcon",{class:t.$style.icon,attrs:{size:"L",img:t.editorImgSrc}}),n("div",{class:t.$style.line},[t._v("EDITING...")])],1)]:t._e()],2)},G=[],J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.icon,{tag:"component",attrs:{img:t.img}})},q=[],Q=n("2492"),Y={name:"MemberIcon",props:{img:String,size:String},computed:{icon:function(){return"Icon"+this.size}},methods:{},components:{IconS:Q["c"],IconM:Q["b"],IconL:Q["a"]}},K=Y,W=Object(S["a"])(K,J,q,!1,null,null,null),Z=W.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[0==t.myData.length?[n("BaseIcon",{class:t.$style.icon,attrs:{type:"member"}})]:[n("ul",{class:t.$style.wapper},t._l(t.myData,(function(e,a){return n("li",{key:a,class:t.$style.tooltip,attrs:{"data-tooltip":e.nickname}},[n("MemberIcon",{attrs:{size:"S",img:e.img}})],1)})),0)]],2)},tt=[],et=n("1986"),nt={name:"MembersIconList",props:{members:Object,value:Array},computed:{myData:{get:function(){var t=[];if(void 0!=this.value)for(var e=0;e<this.value.length;e++){var n=this.value[e],a=this.members[n];a.altId=n,t.push(a)}return t},set:function(t){this.$emit("input",t)}}},methods:{},components:{MemberIcon:Z,BaseIcon:et["a"]}},at=nt,it=n("08bf");function ot(t){this["$style"]=it["default"].locals||it["default"]}var st=Object(S["a"])(at,X,tt,!1,ot,null,null),rt=st.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"ignore",class:t.$style.wrapper},[n("BaseModelessContainer",{class:t.$style.menu},[n("div",{class:t.$style.title},[t._v("参加メンバー")]),n("ul",{class:t.$style.listContainer},t._l(t.members,(function(e,a){return n("li",{key:a,class:t.$style.list},[n("LabeledCheckboxVmodel",{attrs:{id:a,value:a,name:a},model:{value:t.myData,callback:function(e){t.myData=e},expression:"myData"}},[n("ImageIconedText",{class:t.$style.icon,attrs:{img:e.img,size:"M",compose:"left"}},[t._v(t._s(e.nickname))])],1)],1)})),0)])],1)},lt=[],ut=(n("a9e3"),n("ac1f"),n("5319"),n("a026")),dt=n("8910"),mt=n("49fa"),pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseFormLabel",{class:t.$style.label,attrs:{target:t.id}},[n("BaseCheckBoxVModel",t._b({class:t.$style.checkbox,model:{value:t.modelData,callback:function(e){t.modelData=e},expression:"modelData"}},"BaseCheckBoxVModel",{id:t.id,name:t.name,value:t.value},!1)),t._t("default")],2)},ft=[],ht=n("2899"),bt=n("a8de"),vt=n("bfc2"),gt={mixins:[vt["a"],m["a"]],name:"LabeledCheckboxVmodel",props:{myCompo:ht["b"],model:Array},components:{BaseFormLabel:bt["a"],BaseCheckBoxVModel:ht["b"]}},kt=gt,$t=n("117b");function yt(t){this["$style"]=$t["default"].locals||$t["default"]}var xt=Object(S["a"])(kt,pt,ft,!1,yt,null,null),Ct=xt.exports,Ot=n("9dce"),St={name:"MembersCheckList",mixins:[Ot["a"]],created:function(){this.listen(window,"click",function(t){this.$el.contains(t.target)||this.$emit("close")}.bind(this))},mounted:function(){var t=this;ut["a"].nextTick((function(){var e=document.documentElement.clientWidth,n=document.documentElement.clientHeight,a=t.$refs.wrapper.getBoundingClientRect().x,i=t.$refs.wrapper.getBoundingClientRect().y,o=250+a,s=300+i,r=t.$refs.wrapper,c=Number(getComputedStyle(r,"").marginTop.replace("px","")),l=Number(getComputedStyle(r,"").marginLeft.replace("px",""));if(o>e){var u=o-e+70;r.style.marginLeft=l-u+"px"}if(s>n){var d=s-n+30;r.style.marginTop=c-d+"px"}}))},props:{members:Object,value:Array,parentId:String},computed:{myData:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{},components:{ImageIconedText:mt["a"],LabeledCheckboxVmodel:Ct,BaseModelessContainer:dt["a"]}},It=St,Dt=n("3e55");function jt(t){this["$style"]=Dt["default"].locals||Dt["default"]}var Mt=Object(S["a"])(It,ct,lt,!1,jt,null,null),Et=Mt.exports,Lt=n("8972"),wt={name:"MembersUnit",props:{members:Object,value:Array,myEditorId:String,editor:String,id:String,parentId:String},computed:{myData:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},editStatus:function(){var t;return""==this.editor?t="NO_ONE":this.editor==this.myEditorId?t="ME":this.editor!=this.myEditorId&&(t="OTHER"),t},editorImgSrc:function(){return this.members[this.editor].img}},methods:{onMenuTriggerClick:function(t){t.status||this.update()},onClose:function(){this.$refs.container.onClose(),this.update()},update:function(){this.$emit("update-member",{data:this.myData,id:this.id,parentId:this.parentId})}},components:{MemberIcon:Z,ContextMenuContainer:Lt["a"],MembersIconList:rt,MembersCheckList:Et}},Bt=wt,_t=n("1543");function Tt(t){this["$style"]=_t["default"].locals||_t["default"]}var Pt=Object(S["a"])(Bt,R,G,!1,Tt,null,null),Nt=Pt.exports,At={name:"Members",created:function(){},props:{value:Array,id:String,editor:String,parentId:String},data:function(){return{}},computed:{members:function(){return this.$store.getters["members/members"]},assigned:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},myEditorId:function(){return this.$store.getters["auth/user"].altId}},methods:{onUpdateMember:function(t){var e="task_"+t.parentId;this.$store.dispatch(e+"/updateMember",{id:t.id,data:t.data})}},components:{MembersUnit:Nt}},Vt=At,Ut=Object(S["a"])(Vt,H,z,!1,null,null,null),Ft=Ut.exports,Ht=n("a0df"),zt=function(){var t,e,n,a,i=this,o=i.$createElement,s=i._self._c||o;return s("div",{class:i.$style.container},[s("div",[s("div",{class:[i.$style.postButton,(t={},t[i.$style.open]=i.open,t),(e={},e[i.$style.close]=!i.open,e)]},[s("IconedButton",{class:i.$style.add,attrs:{type:"plusmini"},on:{click:i.onAddClick}})],1),s("div",{class:[i.$style.postForm,(n={},n[i.$style.open]=i.open,n),(a={},a[i.$style.close]=!i.open,a)]},[s("PostForm",{on:{"form-cancel":i.onCancelAddTask,"form-add":i.onAddTask}})],1)]),s("draggable",i._b({class:i.$style.list,attrs:{filter:".ignore",tag:"ul"},on:{end:i.onDragUpdeteList,add:i.onDragAdd},model:{value:i.taskList,callback:function(t){i.taskList=t},expression:"taskList"}},"draggable",i.dragOptions,!1),i._l(i.taskList,(function(t){return s("li",{key:t.task.id,attrs:{"data-id":t.task.id,"data-board-id":i.dataBoardId}},[s("TaskListItem",{class:i.$style.listItem,attrs:{"members-container":i.membersContainer,id:t.task.id,"board-id":i.dataBoardId,content:t.task.data,editor:t.task.editing},on:{"save-event":i.onSave,"delete-event":i.onDelete,"start-edit-task":i.onStartEdit,"complete-edit-task":i.onCompleteEdit},model:{value:t.task.members,callback:function(e){i.$set(t.task,"members",e)},expression:"item.task.members"}})],1)})),0)],1)},Rt=[],Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AddMiniButton",{class:t.$style.button,on:{click:t.onClick}},[n("BaseIcon",{class:t.$style.icon,attrs:{type:t.type}})],1)},Jt=[],qt=n("6e62"),Qt={name:"IconedButton",mixins:[m["a"]],props:{type:{type:String}},components:{AddMiniButton:qt["a"],BaseIcon:et["a"]}},Yt=Qt,Kt=n("08ab");function Wt(t){this["$style"]=Kt["default"].locals||Kt["default"]}var Zt=Object(S["a"])(Yt,Gt,Jt,!1,Wt,null,null),Xt=Zt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.wrapper},[n("BaseTextArea",{class:t.$style.text,model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("div",{class:t.$style.buttons},[n("SecondaryMiniButton",{class:t.$style.button,on:{click:t.onCancelSubmit}},[t._v("キャンセル")]),n("PrimaryMiniButton",{class:t.$style.button,on:{click:t.onSubmit}},[t._v("送信")])],1)],1)},ee=[],ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:t.content,expression:"content",modifiers:{lazy:!0}}],class:t.$style.text,domProps:{value:t.content},on:{change:function(e){t.content=e.target.value}}})},ae=[],ie={mixins:[m["a"]],name:"BaseTextArea",props:{value:String},computed:{content:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{onEnter:function(){this.$emit("enter-textarea-event")}}},oe=ie,se=n("33e1");function re(t){this["$style"]=se["default"].locals||se["default"]}var ce=Object(S["a"])(oe,ne,ae,!1,re,null,null),le=ce.exports,ue={mixins:[m["a"]],name:"PostForm",props:{},data:function(){return{content:""}},methods:{onSubmit:function(t){this.$emit("form-add",{value:this.content,e:t}),this.reset()},onCancelSubmit:function(t){this.reset(),this.$emit("form-cancel",t)},reset:function(){this.content=""}},computed:{},components:{BaseTextArea:le,PrimaryMiniButton:qt["f"],SecondaryMiniButton:qt["h"]}},de=ue,me=n("1f4a");function pe(t){this["$style"]=me["default"].locals||me["default"]}var fe=Object(S["a"])(de,te,ee,!1,pe,null,null),he=fe.exports,be=function(){var t,e=this,n=e.$createElement,a=e._self._c||n;return a("div",{class:[e.$style.item,(t={},t["ignore"]=""!=e.editor,t),""!=e.editor?e.$style.noDrag:e.$style.drag]},[a("PostedTextarea",{attrs:{content:e.content,status:""!=e.editor},on:{"save-event":e.onSave,"delete-event":e.onDelete,"start-edit-task":e.onStartEdit,"complete-edit-task":e.onCompleteEdit}}),a(e.membersContainer,{ref:"members",tag:"component",class:e.$style.member,attrs:{id:e.id,"parent-id":e.boardId,editor:e.editor},model:{value:e.members,callback:function(t){e.members=t},expression:"members"}})],1)},ve=[],ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.wrapper},[n("BaseEditableTextarea",{ref:"textarea",class:t.$style.textarea,attrs:{isedit:t.status},on:{dblclick:t.onDClick},model:{value:t.textareaContent,callback:function(e){t.textareaContent=e},expression:"textareaContent"}}),n("div",{class:t.$style.buttons},[t.status?[n("SecondaryMiniButton",{class:t.$style.button,on:{click:t.onCancel}},[t._v("キャンセル")]),n("PrimaryMiniButton",{class:t.$style.button,on:{click:t.onSave}},[t._v("保存")])]:[n("ContextMenu",t._b({class:t.$style.menu,attrs:{compose:"top"},on:{"context-menu-click":t.onMenuClick}},"ContextMenu",{menuItems:t.menuItems},!1))]],2)],1)},ke=[],$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.wrapper},[n("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:t.myValue,expression:"myValue",modifiers:{lazy:!0}},{name:"show",rawName:"v-show",value:t.isedit,expression:"isedit"}],ref:"textarea",staticClass:"ignore",class:t.$style.text,domProps:{value:t.myValue},on:{change:function(e){t.myValue=e.target.value}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isedit,expression:"!isedit"}],class:t.$style.content,on:{dblclick:t.onDClick}},[t._v(t._s(t.myValue))])])},ye=[],xe={mixins:[m["a"]],name:"BaseEditableTextArea",props:{isedit:Boolean,value:String},computed:{myValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{getContent:function(){return this.$refs.textarea.value},onDClick:function(){this.$emit("dblclick")}}},Ce=xe,Oe=n("ec51");function Se(t){this["$style"]=Oe["default"].locals||Oe["default"]}var Ie=Object(S["a"])(Ce,$e,ye,!1,Se,null,null),De=Ie.exports,je={mixins:[m["a"]],name:"ClickToEditableTextarea",props:{content:String,status:Boolean},data:function(){return{textareaContent:"",temp:"",menuItems:[{value:"編集",name:"edit"},{value:"削除",name:"delete"}]}},watch:{content:{immediate:!0,handler:function(t){this.textareaContent=t}},status:{immediate:!0,handler:function(t){0==t&&""!=this.temp&&(this.textareaContent=this.temp)}}},methods:{onMenuClick:function(t){"delete"==t.name?this.onDelete():"edit"==t.name&&(this.onEdit(),this.$emit("start-edit-task"))},onDClick:function(){this.onEdit(),this.$emit("start-edit-task")},onEdit:function(){this.temp=this.$refs.textarea.getContent()},onDelete:function(){this.$emit("delete-event")},onSave:function(){this.temp="";var t=this.$refs.textarea.getContent();this.$emit("save-event",{value:t}),this.$emit("complete-edit-task")},onCancel:function(){this.textareaContent=this.temp,this.$emit("complete-edit-task")}},components:{BaseEditableTextarea:De,PrimaryMiniButton:qt["f"],SecondaryMiniButton:qt["h"],ContextMenu:y["a"]}},Me=je,Ee=n("314d");function Le(t){this["$style"]=Ee["default"].locals||Ee["default"]}var we=Object(S["a"])(Me,ge,ke,!1,Le,null,null),Be=we.exports;function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pe(){var t={components:{ClickToEditableTextarea:Be},template:'<ClickToEditableTextarea :content="content" :status="status" @save-event="onSave" \n    @delete-event="onDelete" @start-edit-task="onStartEdit" @complete-edit-task="onCompleteEdit" />',props:Te({},Be.props),methods:Te({},Be.methods,{onSave:function(t){this.$emit("save-event",t)},onStartEdit:function(){this.$emit("start-edit-task")},onCompleteEdit:function(){this.$emit("complete-edit-task")}})};return t}var Ne=ut["a"].component("posted-textarea",{mixins:[m["a"],Pe()]}),Ae={name:"TaskListItem",props:{content:String,id:String,editor:String,membersContainer:Object,boardId:String,value:Array},methods:{onSave:function(t){t.id=this.id,this.$emit("save-event",t)},onDelete:function(t){this.$emit("delete-event",{id:this.id})},onStartEdit:function(){this.$emit("start-edit-task",{id:this.id})},onCompleteEdit:function(){this.$emit("complete-edit-task",{id:this.id})}},computed:{members:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},components:{PostedTextarea:Ne}},Ve=Ae,Ue=n("581a");function Fe(t){this["$style"]=Ue["default"].locals||Ue["default"]}var He=Object(S["a"])(Ve,be,ve,!1,Fe,null,null),ze=He.exports,Re={name:"TaskList",props:{membersContainer:Object,value:Array,open:Boolean,dataBoardId:String},data:function(){return{showPost:!1}},computed:{dragOptions:function(){return{animation:200,group:"tasks",preventOnFilter:!1,ghostClass:this.$style.ghost}},taskList:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{onAddClick:function(t){this.changeOpen(!this.open)},onAddTask:function(t){this.changeOpen(!1),this.$emit("form-add",t)},onCancelAddTask:function(t){this.changeOpen(!1)},onSave:function(t){this.$emit("save-event",t)},onDelete:function(t){this.$emit("delete-event",t)},changeOpen:function(t){this.$emit("update:open",t)},onDragUpdeteList:function(t){var e=t.item.dataset;this.$emit("drag-sort-list",e)},onDragAdd:function(t){var e=t.item.dataset;this.$emit("drag-add-list",e)},onStartEdit:function(t){this.$emit("start-edit-task",t)},onCompleteEdit:function(t){this.$emit("complete-edit-task",t)}},components:{PostForm:he,TaskListItem:ze,IconedButton:Xt,draggable:v.a}},Ge=Re,Je=n("448e");function qe(t){this["$style"]=Je["default"].locals||Je["default"]}var Qe=Object(S["a"])(Ge,zt,Rt,!1,qe,null,null),Ye=Qe.exports,Ke=(n("fa53"),{name:"Tasks",props:{id:String},created:function(){this.init()},destroyed:function(){this.$store.commit(this.storeModuleName+"/remove"),this.$store.unregisterModule(this.storeModuleName)},data:function(){return{storeModuleName:"",members:Ft}},watch:{id:function(t){this.storeModuleName="task_"+t}},computed:{taskList:{get:function(){var t=this.storeModuleName+"/tasks";return this.$store.getters[t]},set:function(t){this.$store.commit(this.storeModuleName+"/setTasksData",t)}},isOpen:{get:function(){var t=this.storeModuleName+"/isOpen";return this.$store.getters[t]},set:function(t){this.$store.commit(this.storeModuleName+"/setEditorOpen",t)}}},methods:{init:function(){this.storeModuleName="task_"+this.id},onSave:function(t){this.$store.dispatch(this.storeModuleName+"/updateTask",t)},onCreate:function(t){this.$store.dispatch(this.storeModuleName+"/createTask",t)},onDelete:function(t){this.$store.dispatch(this.storeModuleName+"/deleteTask",t)},onDragSortList:function(t){this.$store.dispatch(this.storeModuleName+"/dragSortUpdate",t)},onDragAddList:function(t){this.$store.dispatch(this.storeModuleName+"/dragAdded",t)},onStartEdit:function(t){this.$store.dispatch(this.storeModuleName+"/lockTask",t)},onCompleteEdit:function(t){this.$store.dispatch(this.storeModuleName+"/unlockTask",t)}},components:{TaskList:Ye}}),We=Ke,Ze=Object(S["a"])(We,U,F,!1,null,null,null),Xe=Ze.exports,tn=n("c2bc");function en(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?en(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var an={name:"Boards",created:function(){var t=this;window.addEventListener("beforeunload",this.unload),this.showLoad(!0),this.unlisten=this.$store.getters.firebase.auth().onAuthStateChanged((function(e){if(e){var n=e.uid,a="/projects/"+t.$route.params.id;t.$store.dispatch("auth/setUserInfo",{uid:n,path:a}).then((function(){t.init()}))}}))},beforeDestroy:function(){this.$store.dispatch("boards/postProcess")},destroyed:function(){window.removeEventListener("beforeunload",this.unload),this.unlisten(),this.$store.commit("boards/remove"),this.$store.commit("members/remove")},props:{},data:function(){return{unlisten:null,projectId:"",task:Xe,isShowLoad:!1}},computed:nn({},Object(l["c"])("boards",["boards"]),{},Object(l["c"])("auth",["user","icon"]),{boardList:{get:function(){return this.boards},set:function(t){this.$store.commit("boards/setBoardsData",t)}},projectName:{get:function(){var t=this.$store.getters["projects/projects"],e="";if(void 0!=this.projectId)for(var n=0;n<t.length;n++)t[n].project.id==this.projectId&&(e=t[n].project.label);return e},set:function(t){var e=this,n={data:t,name:"プロジェクト名",require:!0,less:15};Object(Ht["a"])(n,(function(){e.$store.dispatch("projects/updateProjectName",{id:e.projectId,name:t})}))}},userData:function(){return{username:this.user.nickname,img:this.icon}}}),methods:nn({},Object(l["b"])("boards",["initBoardData","read","create","delete","updateBoardName","dragSortUpdate","postProcess"]),{},Object(l["b"])("members",["getMembers"]),{},Object(l["d"])("message",["setBoardDialogue","resetBoardDialogue"]),{},Object(l["d"])("boards",["setProjectId"]),{init:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.projectId=this.$route.params.id,t.next=3,this.getMembers();case 3:this.initBoardData(this.$route.params.id),this.read(),this.showLoad(!1);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onInput:function(t){var e=this,n={data:t.name,name:"ボード名",require:!0,less:12};Object(Ht["a"])(n,(function(){e.updateBoardName(t)}))},onClick:function(t){"delete"==t.name&&this.showDeleteDialogue(t)},onDragSortList:function(t){this.dragSortUpdate(t)},onCreateBoard:function(){this.create()},showDeleteDialogue:function(t){var e=this,n=function(){e.delete(t.id),e.resetBoardDialogue()},a=function(){e.resetBoardDialogue()},i=Object(tn["c"])({type:tn["b"].CONFIRM,normal:tn["a"].DELETE,arg:{name:t.title}}),o={text:i[0].text,p:n,s:a};this.setBoardDialogue(o)},onClickBack:function(){this.$router.go(-1)},showLoad:function(t){this.$emit("show-load",t)},unload:function(t){t.preventDefault(),this.postProcess(),t.returnValue="このアプリを離れますか？"}}),components:{BoardUnit:V}},on=an,sn=Object(S["a"])(on,o,s,!1,null,null,null),rn=sn.exports,cn=n("a005"),ln={name:"ProjectPage",props:{},data:function(){return{isShowLoad:!1}},methods:{onShowLoad:function(t){this.isShowLoad=t}},components:{Message:cn["a"],Boards:rn}},un=ln,dn=Object(S["a"])(un,a,i,!1,null,null,null);e["default"]=dn.exports}}]);
//# sourceMappingURL=chunk-c688d61a.f5e7b1c7.js.map