(function(t){function e(e){for(var r,a,u=e[0],i=e[1],s=e[2],p=0,f=[];p<u.length;p++)a=u[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);d&&d(e);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o={app:0},c=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-13ca50be":"66c87f7d","chunk-11241b8c":"4aad40e6","chunk-c688d61a":"47bb5116","chunk-dc8d1252":"35a7e545","chunk-33375be0":"28d94311","chunk-80924ea8":"8093b301"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-13ca50be":1,"chunk-11241b8c":1,"chunk-c688d61a":1,"chunk-dc8d1252":1,"chunk-33375be0":1,"chunk-80924ea8":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-13ca50be":"f5dd9382","chunk-11241b8c":"e4763673","chunk-c688d61a":"665b7c8d","chunk-dc8d1252":"c854167d","chunk-33375be0":"4d11faa2","chunk-80924ea8":"1c430f29"}[t]+".css",o=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],p=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(p===r||p===o))return e()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],p=s.getAttribute("data-href");if(p===r||p===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[t],d.parentNode.removeChild(d),n(c)},d.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(d)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var c=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=c);var s,p=document.createElement("script");p.charset="utf-8",p.timeout=120,i.nc&&p.setAttribute("nonce",i.nc),p.src=u(t);var f=new Error;s=function(e){p.onerror=p.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:p})}),12e4);p.onerror=p.onload=s,document.head.appendChild(p)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],p=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var d=p;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1986:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:t.$style.icon,attrs:{type:t.type}},[n("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":t.icon}})])},a=[],o=(n("99af"),n("6aaa")),c=n("3bc6"),u=n.n(c),i=(u.a,{name:"BaseIcon",mixins:[o["a"]],props:{type:String},computed:{icon:function(){return"".concat(u.a,"#").concat(this.type)}}}),s=i,p=n("cd6c"),f=n("2877");function d(t){this["$style"]=p["default"].locals||p["default"]}var l=Object(f["a"])(s,r,a,!1,d,null,null);e["a"]=l.exports},"2cd7":function(t,e,n){t.exports={icon:"base-icon---icon---3lkw5"}},"3bc6":function(t,e,n){t.exports=n.p+"img/sprite.6c7206c9.svg"},4360:function(t,e,n){"use strict";var r=n("a026"),a=n("2f62"),o={apiKey:"AIzaSyDL3Kio-UdKoxf9PsvVy7ZQ0YcTzAqgqBI",authDomain:"kanban-c1adc.firebaseapp.com",databaseURL:"https://kanban-c1adc.firebaseio.com",projectId:"kanban-c1adc",storageBucket:"gs://kanban-c1adc.appspot.com",messagingSenderId:"142124422720",appId:"1:142124422720:web:4e6e236029d7330518f1a5",measurementId:"G-KY5Y4EB809"},c="C1s25ymrqZUpS0WzqqoU",u="6snw7RU3yAYjYeHU4p2A",i=n("59ca"),s=n.n(i),p=(n("000b"),n("ea7b"),n("e71f"),n("8934"),n("588e"),o),f={firebase:s.a,initApp:function(){s.a.initializeApp(p)},init:function(){s.a.initializeApp(p),s.a.analytics(),s.a.auth().setPersistence(s.a.auth.Auth.Persistence.SESSION)},db:function(){return s.a.firestore()},fn:function(){return s.a.functions()},st:function(){return s.a.storage()}},d={},l={},h={},m={remove:function(t){var e=t.commit;e("auth/remove",null,{root:!0}),e("boards/remove",null,{root:!0}),e("members/remove",null,{root:!0}),e("message/remove",null,{root:!0}),e("projects/remove",null,{root:!0}),e("user/remove",null,{root:!0}),e("team/remove",null,{root:!0})}},g={namespaced:!0,strict:!0,state:d,mutations:l,getters:h,actions:m},b=(n("4160"),n("a15b"),n("b0c0"),n("d3b7"),n("ac1f"),n("466d"),n("1276"),n("159b"),n("96cf"),n("1da1")),v=n("fa53"),w=n("bad0"),k={appInfo:null,boardsData:[],projectId:"",unsnapshots:[],lastUpdateDate:null},D={setAppInfo:function(t,e){t.projectId=e.projectId,t.appInfo=e},setBoardsData:function(t,e){t.boardsData=e},setProjectId:function(t,e){t.projectId=e},setUnsnap:function(t,e){t.unsnapshots.push(e)},setUpdateDate:function(t,e){var n=Math.floor((new Date).getTime()/1e3);t.lastUpdateDate=n},remove:function(t){for(var e=0;e<t.unsnapshots.length;e++)t.unsnapshots[e]();t.unsnapshots=[],t.appInfo=null,t.boardsData=[],t.lastUpdateDate=null,t.projectId=""}},R={info:function(t){return t.appInfo},boards:function(t){return t.boardsData},projectId:function(t){return t.projectId},updateDate:function(t){return t.lastUpdateDate}},y={initBoardData:function(t,e){var n=t.commit,r=(t.dispatch,t.rootGetters);return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(a,o){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c={projectId:e,projectDocPath:r["auth/path"]+e,boardPath:r["auth/path"]+e+"/boards/"},n("setAppInfo",c);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},create:function(t,e){var n=t.commit,r=t.getters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e,a){var o,c,u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=r.info.boardPath,c=w["a"].util.getOrder(null,r.boards,"board"),u=w["a"].templates.board(c),i={path:o,content:u},t.next=6,w["a"].fb.add(i).catch(a);case 6:n("setUpdateDate"),e();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},read:function(t){var e=t.commit,n=t.rootGetters,r=t.getters,a=(t.state,t.dispatch);return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(o,c){var u,i,s,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:0==n["projects/projects"].length&&a("projects/read",null,{root:!0}),u=r.info,u.projectDocPath,i=u.boardPath,s=n.db,p=s.collection(i),f=p.orderBy("board.order").onSnapshot((function(t){var n=[];t.forEach((function(t){var e=t.data();e.board.id=t.id,n.push(e);var r="task_"+t.id,a=pt.state.hasOwnProperty(r);a||(pt.registerModule(r,v["a"]),pt.commit(r+"/setParentBoardId",t.id),pt.dispatch(r+"/setInitialData",t.id),pt.dispatch(r+"/read",t.id))})),e("setBoardsData",n)})),e("setUnsnap",f);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},updateBoardName:function(t,e){var n=t.commit,r=t.getters;return new Promise((function(t,a){var o=r.info.boardPath,c=o+e.id,u={path:c,content:{board:{label:e.name}}};w["a"].fb.setDoc(u).catch(a),n("setUpdateDate")}),(function(t){}))},delete:function(t,e){var n=t.commit,r=t.getters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(a,o){var c,u,i,s,p,f,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=r.info.boardPath,u=e,i=c+u,s=i+"/tasks/",p={path:s,key:"task"},t.next=7,w["a"].fb.get(p).catch(o);case 7:for(f=t.sent,d=0;d<f.length;d++)l=s+f[d].task.id,w["a"].fb.deleteDoc({path:l}).catch(o);w["a"].fb.deleteDoc({path:i}).catch(o),n("setUpdateDate"),a();case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},postProcess:function(t){var e=t.rootGetters,n=t.getters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c,u,i,s,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(c in o="",e)u=c.match(/task_.*editingDocPaths/),null!=u&&(i="",""!=o&&(i=","),e[u].length>0&&(o+=i+e[u].join(",")));s=[],""!=o&&(s=o.split(",")),p=n.info.projectDocPath,f=n.updateDate,st.httpsCallable("postProcess")({taskDocPaths:s,projectDocPath:p,date:f});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},dragSortUpdate:function(t,e){var n=t.commit,r=t.getters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(a,o){var c,u,i,s,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=r.info.boardPath,u=e.id,i=c+u,s=w["a"].util.getOrder(u,r.boards,"board"),p={path:i,content:{board:{order:s}}},t.next=7,w["a"].fb.setDoc(p).catch(o);case 7:n("setUpdateDate"),a();case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))}},x={namespaced:!0,strict:!0,state:k,mutations:D,getters:R,actions:y},E={appInfo:{},projectsData:[],unsnapshots:[]},j={setData:function(t,e){t.projectsData=e},setAppInfo:function(t,e){t.appInfo=e},setUnsnap:function(t,e){t.unsnapshots.push(e)},remove:function(t){for(var e=0;e<t.unsnapshots.length;e++)t.unsnapshots[e]();t.unsnapshots=[],t.appInfo={},t.projectsData=[]}},O={info:function(t){return t.appInfo},projects:function(t){return t.projectsData}},I={initProjectData:function(t){var e=t.commit,n=t.rootGetters,r=n["auth/path"],a=n["auth/user"].uuid,o={uuid:a,projectPath:r};e("setAppInfo",o)},create:function(t){var e=t.getters;t.rootGetters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(n,r){var a,o,c,u,i,s,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.info,o=a.uuid,c=a.projectPath,u=Math.floor((new Date).getTime()/1e3),t.next=4,P(c,u,e.projects);case 4:return i=t.sent,t.next=7,T(c,i);case 7:return s=t.sent,p=c+i.id+"/boards/"+s.id,t.next=11,S(o,u,p);case 11:n();case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},read:function(t){var e=t.commit,n=t.rootGetters,r=t.getters,a=t.dispatch;return new Promise((function(t,o){void 0==r.info.projectPath&&a("initProjectData");var c=r.info.projectPath,u=n.db,i=u.collection(c),s=i.orderBy("project.order").onSnapshot((function(t){var n=[];t.forEach((function(t){var e=t.data();e.project.id=t.id,n.push(e)})),e("setData",n)}));e("setUnsnap",s)}),(function(t){}))},updateProjectName:function(t,e){var n=t.getters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=n.info.projectPath,c=e.name,u={path:o+e.id,content:{project:{label:c}}},t.next=5,w["a"].fb.setDoc(u).catch(a);case 5:r();case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},delete:function(t,e){var n=t.getters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c,u,i,s,p,f,d,l,h,m,g,b,v,k,D;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=n.info.projectPath,c=o+e,u=c+"/boards/",t.next=5,w["a"].fb.get({path:u,key:"board"}).catch(a);case 5:i=t.sent,s=0,p=[],s=0;case 9:if(!(s<i.length)){t.next=25;break}return f=i[s].board.id,d=u+f,l=d+"/tasks/",h="task_"+f,m=pt.state.hasOwnProperty(h),m&&pt.unregisterModule(h),t.next=18,w["a"].fb.get({path:l,key:"task"});case 18:for(p=t.sent,g=0;g<p.length;g++)b=p[g].task.id,v={path:l+b},w["a"].fb.deleteDoc(v).catch(a);k={path:d},w["a"].fb.deleteDoc(k).catch(a);case 22:s++,t.next=9;break;case 25:D={path:c},w["a"].fb.deleteDoc(D).catch(a),r();case 28:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},dragSortUpdate:function(t,e){var n=t.getters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c,u,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=n.info.projectPath,c=e.id,u=o+c,i=w["a"].util.getOrder(c,n.projects,"project"),s={path:u,content:{project:{order:i}}},t.next=7,w["a"].fb.setDoc(s).catch(a);case 7:r();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))}};function P(t,e,n){return new Promise(function(){var r=Object(b["a"])(regeneratorRuntime.mark((function r(a,o){var c,u,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c=w["a"].util.getOrder(null,n,"project"),u=w["a"].templates.project(e,c),i={path:t,content:u},r.next=5,w["a"].fb.add(i).catch(o);case 5:s=r.sent,a(s);case 7:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}(),(function(t){}))}function T(t,e){return new Promise(function(){var n=Object(b["a"])(regeneratorRuntime.mark((function n(r,a){var o,c,u,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=w["a"].templates.initialBoards(),c=0;case 2:if(!(c<o.length)){n.next=11;break}return u={path:t+e.id+"/boards/",content:o[c]},n.next=6,w["a"].fb.add(u).catch(a);case 6:i=n.sent,r(i);case 8:c++,n.next=2;break;case 11:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),(function(t){}))}function S(t,e,n){return new Promise(function(){var r=Object(b["a"])(regeneratorRuntime.mark((function r(a,o){var c,u,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c="Wクリックで編集",u=w["a"].templates.task(t,e,null,c),i={path:n+"/tasks/",content:u},r.next=5,w["a"].fb.add(i).catch(o);case 5:s=r.sent,a(s);case 7:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}(),(function(t){}))}var A={namespaced:!0,strict:!0,state:E,mutations:j,getters:O,actions:I},_=(n("99af"),n("a18c")),N=n("11c1"),U={userData:null,contractData:"",teamData:"",pathData:"",teamPathData:"",isLogin:!1,imgData:null},B={succsessLogin:function(t,e){t.userData=e,t.contractData=c,t.teamData=u,t.teamPathData="workspace/".concat(t.contractData,"/teams/").concat(t.teamData),t.pathData=t.teamPathData+"/projects/",t.isLogin=!0},remove:function(t,e){t.userData=null,t.contractData=null,t.teamData=null,t.pathData=null,t.teamPathData=null,t.isLogin=!1,t.imgData=null},setImage:function(t,e){t.imgData=e}},L={user:function(t){return t.userData},contract:function(t){return t.contractData},team:function(t){return t.teamData},path:function(t){return t.pathData},teamPath:function(t){return t.teamPathData},isLogin:function(t){return t.isLogin},icon:function(t){return t.imgData}},G={login:function(t,e){var n=t.dispatch,r=t.rootGetters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(a,o){var c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c=r.firebase,u=e.callback,c.auth().signInWithEmailAndPassword(e.id,e.pass).then((function(t){if(t.user.emailVerified){var e=t.user.uid,r="/projects";n("setUserInfo",{uid:e,path:r})}else u(),n("logout")}),(function(t){throw{type:"FIREBASE_AUTH",error:t.code}}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},regist:function(t,e){t.dispatch;var n=t.rootGetters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c,u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=n.firebase,c=e.id,u=e.pass,i=e.callback,o.auth().createUserWithEmailAndPassword(c,u).then((function(t){t.user.sendEmailVerification(),i();var e=t.user.uid,n=Object(N["v4"])(),r="C1s25ymrqZUpS0WzqqoU",o="6snw7RU3yAYjYeHU4p2A",c=w["a"].templates.user(r,o,n),u={path:"/users/"+e,content:c};w["a"].fb.setDoc(u).catch(a)})).catch((function(t){throw{type:"FIREBASE_AUTH",error:t.code}}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},setUserInfo:function(t,e){var n=t.commit,r=(t.getters,t.rootGetters),a=t.dispatch;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(o,c){var u,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=e.uid,i=e.path,t.next=3,a("user/getUserInfo",e,{root:!0});case 3:s=r["user/userData"],s.uuid=u,s.path=s.altId+"/icon",n("succsessLogin",s),1==s.img&&""!=s.nickname&&a("user/downloadFile",null,{root:!0}),F(s,i),o();case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},logout:function(t){var e=t.rootGetters,n=t.dispatch;n("app/remove",null,{root:!0});var r=e.firebase;r.auth().signOut().then((function(){})).catch((function(t){throw{type:"FIREBASE_AUTH",error:t.code}}))}};function F(t,e){0==t.img||""==t.nickname?"/profile"!=_["a"].currentRoute.path&&_["a"].push("/profile"):"/profile"==_["a"].currentRoute.path&&1==t.img&&""!=t.nickname?_["a"].push("/projects"):_["a"].currentRoute.path!=e&&_["a"].push(e)}var C={namespaced:!0,strict:!0,state:U,mutations:B,getters:L,actions:G},M={boardsDialogueData:null,projectDialogueData:null,authDialogueData:null},W={setBoardDialogue:function(t,e){t.boardsDialogueData=e},resetBoardDialogue:function(t,e){t.boardsDialogueData=null},setProjectDialogue:function(t,e){t.projectDialogueData=e},resetProjectDialogue:function(t,e){t.projectDialogueData=null},setAuthDialogue:function(t,e){t.authDialogueData=e},resetAuthDialogue:function(t,e){t.authDialogueData=null},remove:function(t,e){t.boardsDialogueDat=null,t.projectDialogueData=null,t.authDialogueData=null}},H={boardDialogue:function(t){return t.boardsDialogueData},projectDialogue:function(t){return t.projectDialogueData},authDialogue:function(t){return t.authDialogueData}},q={},K={namespaced:!0,strict:!0,state:M,mutations:W,getters:H,actions:q},$=(n("c2bc"),{userDataObject:null}),z={setUserData:function(t,e){t.userDataObject=e},remove:function(t,e){t.userDataObject=null}},Y={userData:function(t){return t.userDataObject}},V={getUserInfo:function(t,e){var n=t.commit;t.dispatch;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.uid,c={path:"users/".concat(o)},t.next=4,w["a"].fb.getDoc(c).catch(a);case 4:u=t.sent,n("setUserData",u.data()),r();case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},uploadFile:function(t,e){var n=t.rootGetters,r=(t.getters,t.dispatch);return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(a,o){var c,u,i,s,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=e.data.data,u=n["auth/user"].uuid,i=n["auth/user"].altId,s={path:i+"/icon",content:c},t.next=6,w["a"].fb.upload(s);case 6:return p={path:"users/"+u,content:{img:!0,nickname:e.nickname}},t.next=9,w["a"].fb.setDoc(p).catch(o);case 9:r("auth/setUserInfo",{uid:u,path:"app/projects"},{root:!0}),r("downloadFile"),a();case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},downloadFile:function(t){var e=t.rootGetters,n=t.commit;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e["auth/user"].altId,t.next=3,w["a"].fb.execDownloadIcon(o);case 3:c=t.sent,n("auth/setImage",c.url,{root:!0});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))}},Q={namespaced:!0,strict:!0,state:$,mutations:z,getters:Y,actions:V},Z={membersData:null,unsnapshots:[]},J={setMembersData:function(t,e){t.membersData=e},setUnsnap:function(t,e){t.unsnapshots.push(e)},remove:function(t){for(var e=0;e<t.unsnapshots.length;e++)t.unsnapshots[e]();t.unsnapshots=[],t.membersData=null}},X={members:function(t){return t.membersData}},tt={getMembers:function(t){var e=t.rootGetters,n=t.commit;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=e.db,c=o.collection("users"),u=c.orderBy("nickname").onSnapshot(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e){var a,o,c,u,i,s,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.docs,o={},c=0;case 3:if(!(c<a.length)){t.next=14;break}return u=a[c].data(),i=u.altId,t.next=8,w["a"].fb.execDownloadIcon(i);case 8:s=t.sent,p=s.url,o[i]={img:p,nickname:u.nickname};case 11:c++,t.next=3;break;case 14:n("setMembersData",o),r();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n("setUnsnap",u);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))}},et={namespaced:!0,strict:!0,state:Z,mutations:J,getters:X,actions:tt},nt={teamNameData:"",unsnapshots:[]},rt={setData:function(t,e){t.teamNameData=e},setUnsnap:function(t,e){t.unsnapshots.push(e)},remove:function(t){for(var e=0;e<t.unsnapshots.length;e++)t.unsnapshots[e]();t.unsnapshots=[],t.teamNameData=""}},at={team:function(t){return t.teamNameData}},ot={read:function(t){var e=t.commit,n=t.rootGetters;t.getters,t.dispatch;return new Promise((function(t,r){var a=n["auth/teamPath"],o=n.db,c=o.doc(a),u=c.onSnapshot((function(t){var n=t.data();e("setData",n.label)}));e("setUnsnap",u)}),(function(t){}))},updateTeamName:function(t,e){var n=t.rootGetters;return new Promise(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(r,a){var o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=n["auth/teamPath"],c=e,u={path:o,content:{label:c}},t.next=5,w["a"].fb.setDoc(u).catch(a);case 5:r();case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))}},ct={namespaced:!0,strict:!0,state:nt,mutations:rt,getters:at,actions:ot};n.d(e,"a",(function(){return ut})),n.d(e,"d",(function(){return it})),n.d(e,"c",(function(){return st})),r["a"].use(a["a"]),f.init(),r["a"].config.productionTip=!1;var ut=f.db(),it=f.st(),st=f.fn("us-central1"),pt=e["b"]=new a["a"].Store({strict:!0,state:{},getters:{firebase:function(t){return f.firebase},db:function(t){return f.db()},fn:function(t){return f.fn("us-central1")},storage:function(t){return f.st()}},modules:{app:g,auth:C,projects:A,boards:x,tasks:v["a"],message:K,user:Q,members:et,team:ct}})},"45e0":function(t,e,n){t.exports={link:"root-page---link---IeubR",footer:"root-page---footer---2Fe_m",copy:"root-page---copy---8YmET",git:"root-page---git---2mbqo"}},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],c={name:"App",computed:{},methods:{},components:{}},u=c,i=n("2877"),s=Object(i["a"])(u,a,o,!1,null,null,null),p=s.exports,f=n("a18c"),d=n("4360");n("7aaa");r["a"].config.productionTip=!1,new r["a"]({router:f["a"],store:d["b"],render:function(t){return t(p)}}).$mount("#app")},"6aaa":function(t,e,n){"use strict";e["a"]={props:{compose:{type:String}},methods:{onClick:function(t){this.$emit("click",t)},onChange:function(t){this.$emit("change",t)},onInput:function(t){this.$emit("input",t)}}}},"7aaa":function(t,e,n){},a18c:function(t,e,n){"use strict";n("45fc"),n("d3b7");var r=n("a026"),a=n("8c4f"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root-page"},[n("transition",{attrs:{mode:"out-in"}},[n("router-view")],1),n("a",{class:t.$style.link,attrs:{href:"https://github.com/technotework/Kanban-tool",target:"_blank"}},[n("div",{class:t.$style.footer},[n("span",{class:t.$style.copy},[t._v("BY TECHNOTEWORK")]),n("BaseIcon",{class:t.$style.git,attrs:{type:"git"}})],1)])],1)},c=[],u=n("1986"),i={name:"RootPage",props:{},components:{BaseIcon:u["a"]}},s=i,p=n("fa62"),f=n("2877");function d(t){this["$style"]=p["default"].locals||p["default"]}var l=Object(f["a"])(s,o,c,!1,d,null,null),h=l.exports,m=n("4360");r["a"].use(a["a"]);var g=[{path:"/",name:"root-page",redirect:"/projects",component:h,children:[{path:"login",name:"login-page",component:function(){return Promise.all([n.e("chunk-13ca50be"),n.e("chunk-33375be0")]).then(n.bind(null,"897f"))}},{path:"profile",name:"regist-profile-page",component:function(){return Promise.all([n.e("chunk-13ca50be"),n.e("chunk-80924ea8")]).then(n.bind(null,"1ae1"))},meta:{requiresAuth:!0}},{path:"projects",name:"project-list-page",component:function(){return Promise.all([n.e("chunk-13ca50be"),n.e("chunk-11241b8c"),n.e("chunk-dc8d1252")]).then(n.bind(null,"61b5"))},meta:{requiresAuth:!0}},{path:"projects/:id",name:"project-page",component:function(){return Promise.all([n.e("chunk-13ca50be"),n.e("chunk-11241b8c"),n.e("chunk-c688d61a")]).then(n.bind(null,"fba9"))},meta:{requiresAuth:!0}}]},{path:"/*",redirect:"/projects"}],b=new a["a"]({mode:"history",base:"/",routes:g});b.beforeEach((function(t,e,n){var r=m["b"].getters.firebase,a=t.matched.some((function(t){return t.meta.requiresAuth}));a?r.auth().onAuthStateChanged((function(t){t?n():n({path:"/login"})})):n()}));e["a"]=b},bad0:function(t,e,n){"use strict";n("4160"),n("d3b7"),n("159b"),n("96cf");var r=n("1da1"),a=n("4360"),o=n("c2bc"),c=1e7,u={templates:{user:function(t,e,n){var r={contracts:{},altId:"".concat(n),isDeleted:!1,nickname:"",img:!1,role:"manager"};return r.contracts[t]=[e],r},project:function(t,e){return{project:{id:"",label:"Project",update_date:t,order:e}}},board:function(t){return{board:{id:"",order:t,label:"NewBoard"}}},initialBoards:function(){return[{board:{id:"",label:"Backlog",order:c}},{board:{id:"",label:"ToDo",order:2*c}},{board:{id:"",label:"Progress",order:3*c}},{board:{id:"",label:"Complete",order:4*c}}]},task:function(t,e){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return n=null!=a?a:c,r=null!=o?o:"",{task:{id:"",data:r,order:n,labels:[],members:[],editing:"",editing_date:null,createUser:"".concat(t),create_date:e,start_date:null,end_date:null,archive_date:null,comments:[]}}}},fb:{add:function(t){return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var c,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.onLine){e.next=2;break}throw{type:o["b"].NETWORK,error:o["a"].DISCONNECT};case 2:return c=t.path,u=t.content,i=a["a"].collection(c),e.next=6,i.add(u).then((function(t){n(t)})).catch((function(t){throw{type:o["b"].FIREBASE_FIRESTORE,error:t.code}}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},get:function(t){return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var c,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.onLine){e.next=3;break}throw r(),{type:o["b"].NETWORK,error:o["a"].DISCONNECT};case 3:return c=t.path,u=t.key,i=a["a"].collection(c),e.next=7,i.get().then((function(t){var e=[];t.forEach((function(t){var n=t.data();n[u].id=t.id,e.push(n)})),n(e)})).catch((function(t){throw{type:o["b"].FIREBASE_FIRESTORE,error:t.code}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},setDoc:function(t){return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var c,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.onLine){e.next=3;break}throw r(),{type:o["b"].NETWORK,error:o["a"].DISCONNECT};case 3:return c=t.path,u=t.content,i=a["a"].doc(c),e.next=7,i.set(u,{merge:!0}).then((function(){n()})).catch((function(t){throw{type:o["b"].FIREBASE_FIRESTORE,error:t.code}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},getDoc:function(t){return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.onLine){e.next=3;break}throw r(),{type:o["b"].NETWORK,error:o["a"].DISCONNECT};case 3:return c=t.path,u=a["a"].doc(c),e.next=7,u.get().then((function(t){n(t)})).catch((function(t){throw{type:o["b"].FIREBASE_FIRESTORE,error:t.code}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},deleteDoc:function(t){return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.onLine){e.next=3;break}throw r(),{type:o["b"].NETWORK,error:o["a"].DISCONNECT};case 3:return c=t.path,u=a["a"].doc(c),e.next=7,u.delete().then((function(){n()})).catch((function(t){throw{type:o["b"].FIREBASE_FIRESTORE,error:t.code}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},upload:function(t){return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var c,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.onLine){e.next=3;break}throw r(),{type:o["b"].NETWORK,error:o["a"].DISCONNECT};case 3:return c=t.path,u=t.content,i=a["d"].ref().child(c),e.next=7,i.put(u).then((function(){n()})).catch((function(t){throw{type:o["b"].FIREBASE_STORAGE,error:t.code}}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},execDownloadIcon:function(t){return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var c,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.onLine){e.next=3;break}throw r(),{type:o["b"].NETWORK,error:o["a"].DISCONNECT};case 3:return c=a["d"].ref(t+"/icon"),e.next=6,c.getDownloadURL();case 6:return u=e.sent,e.next=9,fetch(u);case 9:i=e.sent,n(i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),(function(t){throw{type:o["b"].FIREBASE_STORAGE,error:t.code}}))}},util:{getOrder:function(t,e,n){var r,a,o=null;if(null==t&&0==e.length)o=c;else if(null==t&&e.length>0)r=0,a=e[0][n].order;else{for(var u,i=0;i<e.length;i++)e[i][n].id==t&&(u=i);var s=u-1,p=u+1;0==u&&1==e.length?o=c:0==u&&e.length>1?(r=0,a=e[p][n].order):u==e.length-1&&e.length>1?(r=e[s][n].order,o=r+c):(r=e[s][n].order,a=e[p][n].order)}return null==o&&(o=r+(a-r)/2,o=r+(a-r)/2),o}}};e["a"]=u},c2bc:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return l}));n("99af"),n("b0c0");var r="dialogue",a="alert",o="errorMessage",c="予期せぬエラーが起きました。",u="データが存在しません。",i="すでにデータが存在します。",s="アクセス権がありません。",p={FIREBASE_FIRESTORE:"FIREBASE_FIRESTORE",FIREBASE_STORAGE:"FIREBASE_STORAGE",FIREBASE_AUTH:"FIREBASE_AUTH",VALIDATIONS:"VALIDATIONS",VALIDATION:"VALIDATION",CONFIRM:"CONFIRM",ALERT:"ALERT",NETWORK:"NETWORK"},f={DELETE:"app/delete",REQUIRE:"app/require",WRONG_TEXT:"app/text-violation",WRONG_EMAIL:"app/email-vaiolation",WRONG_PASSWORD:"app/password-vaiolation",FAIL_AGREE:"app/agreement-vaiolation",LENGTH_MORE:"app/form-length-more",LENGTH_LESS:"app/form-length-less",LENGTH_LESS_MB:"app/form-length-less-mb",LOGOUT:"app/force-logout",DISCONNECT:"app/internet-disconnect",SENDMAIL:"app/send-mail",NO_AUTH:"app/no-auth"},d=function(t){var e;switch(t.type){case p.FIREBASE_FIRESTORE:e=h(t.error);break;case p.FIREBASE_STORAGE:e=m(t.error);break;case p.FIREBASE_AUTH:e=g(t.error);break;case p.VALIDATIONS:e=b(t.error);break;case p.NETWORK:e=k(t.error);break;default:e=[{text:c,type:o}];break}return e},l=function(t){var e=w(t.normal,t.arg);return e};function h(t){var e;switch(t){case"cancelled":case"unknown":case"invalid-argument":case"deadline-exceeded":case"resource-exhausted":case"failed-precondition":case"aborted":case"out-of-range":case"internal":case"unavailable":case"data-loss":e={text:c,type:o};break;case"not-found":e={text:u,type:o};break;case"already-exists":e={text:i,type:o};break;case"permission-denied":case"unauthenticated":e={text:s,type:o};break;default:e={text:c,type:o};break}return[e]}function m(t){var e;switch(t){case"storage/unknown":case"storage/object-not-found":case"storage/bucket-not-found":case"storage/project-not-found":case"storage/quota-exceeded":case"storage/invalid-checksum":case"storage/invalid-event-name":case"storage/invalid-url":case"storage/invalid-argument":case"storage/no-default-bucket":case"storage/cannot-slice-blob":case"storage/server-file-wrong-size":e={text:c,type:o};break;case"storage/canceled":e={text:"ユーザーが操作をキャンセルしました。",type:o};break;case"storage/unauthenticated":case"storage/unauthorized":e={text:"ユーザーに権限がありません。",type:o};break;case"storage/retry-limit-exceeded":e={text:"処理時間制限を超えました。",type:o};break}return[e]}function g(t){var e;switch(t){case"auth/email-already-in-use":e={text:"メールアドレスはすでに登録されています。",type:o};break;case"auth/invalid-email":e={text:"メールアドレスが正しくありません。",type:o};break;case"auth/operation-not-allowed":e={text:"メールアドレスまたはパスワードが有効ではありません。",type:o};break;case"auth/weak-password":e={text:"パスワードが脆弱すぎます。",type:o};break;case"auth/user-disabled":e={text:"無効なユーザーです。",type:o};break;case"auth/user-not-found":e={text:"IDが間違っています。",type:o};break;case"auth/wrong-password":e={text:"パスワードが間違っています。",type:o};break;default:e={text:c,type:o};break}return[e]}function b(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],a=v(r.error,r.arg);e.push(a)}return e}function v(t,e){var n;switch(t){case f.REQUIRE:n={text:"".concat(e.name,"は入力必須です。"),type:o};break;case f.WRONG_EMAIL:n={text:"メールアドレスの形式が間違っています。",type:o};break;case f.WRONG_PASSWORD:n={text:"パスワードは半角英数字で入力してください。",type:o};break;case f.FAIL_AGREE:n={text:"利用規約をご覧いただき同意にチェックしてください。",type:o};break;case f.LENGTH_MORE:n={text:"".concat(e.name,"は、").concat(e.length,"文字以上で入力してください。"),type:o};break;case f.LENGTH_LESS:n={text:"".concat(e.name,"は、").concat(e.length,"文字以内で入力してください。"),type:o};break;case f.LENGTH_LESS_MB:n={text:"".concat(e.name,"は、").concat(e.length,"MB以内です。"),type:o};break;case f.LOGOUT:n={text:"予期せぬ問題が発生したためログアウトしました。",type:o};break;default:n={text:c,type:o};break}return n}function w(t,e){var n;switch(t){case f.DELETE:n={text:"「".concat(e.name,"」を削除します。よろしいですか？"),type:r};break;case f.SENDMAIL:n={text:"認証メールをご登録のメールアドレスに送信しました。\nご確認後、メール内のリンクをクリックすることで会員登録が完了します。",type:a};break;case f.NO_AUTH:n={text:"会員登録後お送りしたメールをご確認ください。メール内のリンクをクリックすることで会員登録が完了し、ログイン可能になります。",type:a};break}return[n]}function k(t){var e;switch(t){case f.DISCONNECT:e={text:"インターネット接続をご確認ください。",type:o};break}return[e]}},cd6c:function(t,e,n){"use strict";var r=n("2cd7"),a=n.n(r);e["default"]=a.a},fa53:function(t,e,n){"use strict";n("4160"),n("d3b7"),n("159b"),n("96cf");var r=n("1da1"),a=n("bad0"),o=n("4360");function c(){return{appInfo:{},tasksData:[],isOpenEditor:!1,parentBoardId:"",unsnapshots:[]}}var u={initializeData:function(t,e){t.appInfo=e},setParentBoardId:function(t,e){t.parentBoardId=e},setTasksData:function(t,e){t.tasksData=e},setEditorOpen:function(t,e){t.isOpenEditor=e},setUnsnap:function(t,e){t.unsnapshots.push(e)},remove:function(t){for(var e=0;e<t.unsnapshots.length;e++)t.unsnapshots[e]();t.unsnapshots=[],t.appInfo={},t.tasksData=[],t.isOpenEditor=!1,t.parentBoardId=""}},i={info:function(t){return t.appInfo},tasks:function(t){return t.tasksData},isOpen:function(t){return t.isOpenEditor},boardId:function(t){return t.parentBoardId},editingDocPaths:function(t){for(var e=[],n=t.tasksData,r=o["b"].getters["auth/user"].altId,a=t.appInfo.taskPath,c=0;c<n.length;c++)if(n[c].task.editing==r){var u=a+n[c].task.id;e.push(u)}return e}},s={setInitialData:function(t,e){var n=t.rootGetters,r=t.commit,a={uuid:n["auth/user"].uuid,projectPath:n["auth/path"]+n["boards/projectId"],boardId:e,boardPath:n["auth/path"]+n["boards/projectId"]+"/boards/",boardDocPath:n["auth/path"]+n["boards/projectId"]+"/boards/"+e,taskPath:n["auth/path"]+n["boards/projectId"]+"/boards/"+e+"/tasks/"};r("initializeData",a)},createTask:function(t,e){var n=t.getters,o=t.commit;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i,s,p,f,d,l,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=n.info,i=u.uuid,s=u.taskPath,p=e.value,f=Math.floor((new Date).getTime()/1e3),d=a["a"].util.getOrder(null,n.tasks,"task"),l=a["a"].templates.task(i,f,d,p),h={path:s,content:l},t.next=8,a["a"].fb.add(h).catch(c);case 8:o("boards/setUpdateDate",null,{root:!0}),r();case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},insertTask:function(t,e){var n=t.getters,o=t.commit;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i,s,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=n.info.taskPath,i=e.id,s=e.template,p=a["a"].util.getOrder(i,n.tasks,"task"),s.task.order=p,f={path:u+i,content:s},t.next=8,a["a"].fb.setDoc(f).catch(c);case 8:o("boards/setUpdateDate",null,{root:!0}),r();case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},read:function(t){var e=t.commit,n=t.getters,a=t.dispatch,o=t.rootGetters;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i,s,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u=n.info.taskPath,i=o.db,s=i.collection(u),p=s.orderBy("task.order").onSnapshot((function(t){var n=[];t.forEach((function(t){var e=t.data();if(e.task.id=t.id,""!=e.task.editing){var r=Math.floor((new Date).getTime()/1e3);null!=e.task.editing_date&&r-e.task.editing_date>1800&&a("unlockTask",{id:e.task.id})}n.push(e)})),e("setTasksData",n)})),e("setUnsnap",p);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},updateTask:function(t,e){var n=t.getters,o=t.commit;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i,s,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=n.info.taskPath,i=e.value,s=u+e.id,p={path:s,content:{task:{data:i}}},t.next=6,a["a"].fb.setDoc(p).catch(c);case 6:o("boards/setUpdateDate",null,{root:!0}),r();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},updateMember:function(t,e){var n=t.getters,o=t.commit;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i,s,p,f,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=e.id,i=e.data,s=n.info.taskPath,p=s+u,f=i,d={path:p,content:{task:{members:f}}},t.next=7,a["a"].fb.setDoc(d).catch(c);case 7:o("boards/setUpdateDate",null,{root:!0}),r();case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},deleteTask:function(t,e){var n=t.getters,o=(t.rootGetters,t.commit);return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u=n.info.taskPath,i=u+e.id,a["a"].fb.deleteDoc({path:i}).catch(c),o("boards/setUpdateDate",null,{root:!0}),r();case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},lockTask:function(t,e){var n=t.getters,o=t.rootGetters;t.commit;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i,s,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=n.info.taskPath,i=u+e.id,s=Math.floor((new Date).getTime()/1e3),p=o["auth/user"].altId,f={path:i,content:{task:{editing:p,editing_date:s}}},t.next=7,a["a"].fb.setDoc(f).catch(c);case 7:r();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},unlockTask:function(t,e){var n=t.getters;t.rootGetters,t.commit;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,o){var c,u,i,s,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=n.info.taskPath,u=c+e.id,i=null,s="",p={path:u,content:{task:{editing:s,editing_date:i}}},t.next=7,a["a"].fb.setDoc(p).catch(o);case 7:r();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},dragSortUpdate:function(t,e){var n=t.commit,o=t.getters;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i,s,p,f,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(u=o.info.taskPath,i=e.id,s=!1,p=0;p<o.tasks.length;p++)o.tasks[p].task.id==i&&(s=!0);if(!s){t.next=12;break}return f=u+i,d=a["a"].util.getOrder(i,o.tasks,"task"),l={path:f,content:{task:{order:d}}},t.next=10,a["a"].fb.setDoc(l).catch(c);case 10:n("boards/setUpdateDate",null,{root:!0}),r();case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))},dragAdded:function(t,e){var n=t.rootGetters,a=t.getters,o=t.dispatch;return new Promise(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,c){var u,i,s,p,f,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=e.id,i=e.boardId,s=a.info.projectPath,p=s+"/boards/"+i+"/tasks/"+u,f=n.db,t.next=7,f.doc(p).get();case 7:return d=t.sent,l=d.data(),t.next=11,o("task_"+i+"/deleteTask",{id:u},{root:!0});case 11:return t.next=13,o("insertTask",{template:l,id:u});case 13:r();case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t){}))}};e["a"]={namespaced:!0,strict:!0,state:c,mutations:u,getters:i,actions:s}},fa62:function(t,e,n){"use strict";var r=n("45e0"),a=n.n(r);e["default"]=a.a}});
//# sourceMappingURL=app.c46775f3.js.map